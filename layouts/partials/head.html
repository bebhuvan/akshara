<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- SEO -->
<title>{{ if .Title }}{{ .Title }} - {{ end }}{{ .Site.Title }}</title>
<meta name="description" content="{{ .Params.description | default .Summary | default .Site.Params.description }}">
<meta name="author" content="{{ .Params.author | default .Site.Params.author }}">
<link rel="canonical" href="{{ .Permalink }}">

<!-- Open Graph / Facebook -->
<meta property="og:site_name" content="{{ .Site.Title }}">
<meta property="og:title" content="{{ if .Title }}{{ .Title }}{{ else }}{{ .Site.Title }}{{ end }}">
<meta property="og:description" content="{{ .Params.description | default .Summary | default .Site.Params.description }}">
<meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}">
<meta property="og:url" content="{{ .Permalink }}">
<meta property="og:image" content="{{ if .Params.cover }}{{ .Params.cover | absURL }}{{ else }}/og-image.svg{{ end }}">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
{{ if .IsPage }}
<meta property="article:published_time" content="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
<meta property="article:modified_time" content="{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}">
{{ end }}

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ if .Title }}{{ .Title }}{{ else }}{{ .Site.Title }}{{ end }}">
<meta name="twitter:description" content="{{ .Params.description | default .Summary | default .Site.Params.description }}">
<meta name="twitter:image" content="{{ if .Params.cover }}{{ .Params.cover | absURL }}{{ else }}/og-image.svg{{ end }}">

<!-- RSS Feed -->
{{ with .OutputFormats.Get "RSS" }}
<link rel="alternate" type="application/rss+xml" title="{{ $.Site.Title }} RSS Feed" href="{{ .Permalink }}">
{{ end }}

<!-- Structured Data (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{{ if .IsPage }}Article{{ else }}WebSite{{ end }}",
  "name": "{{ if .Title }}{{ .Title }}{{ else }}{{ .Site.Title }}{{ end }}",
  "description": "{{ .Params.description | default .Summary | default .Site.Params.description }}",
  "url": "{{ .Permalink }}"{{ if .IsPage }},
  "datePublished": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
  "dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}",
  "author": {
    "@type": "Person",
    "name": "{{ .Params.author | default .Site.Params.author }}"
  }{{ end }}
}
</script>

<!-- Theme Color -->
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)">

<!-- DNS prefetch for third-party origins -->
<link rel="dns-prefetch" href="https://bhuvan.substack.com">

<!-- Preload critical fonts used above the fold -->
<link rel="preload" href="/fonts/crimson-400i.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/crimson-600.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/inter-latin.woff2" as="font" type="font/woff2" crossorigin>

<!-- Styles - Single compiled CSS with self-hosted fonts -->
{{ $fonts := resources.Get "css/fonts.css" }}
{{ $base := resources.Get "css/base.css" }}
{{ $components := resources.Get "css/components.css" }}
{{ $pages := resources.Get "css/pages.css" }}
{{ $search := resources.Get "css/search.css" }}
{{ $css := slice $fonts $base $components $pages $search | resources.Concat "css/akshara.css" | minify | fingerprint }}
<link rel="stylesheet" href="{{ $css.RelPermalink }}" integrity="{{ $css.Data.Integrity }}">

<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
